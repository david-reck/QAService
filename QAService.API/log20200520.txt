2020-05-20 20:30:10.148 -05:00 [INF] Starting web host (QAService.API)...
2020-05-20 20:30:10.851 -05:00 [FTL] Program terminated unexpectedly (QAService.API)!
System.NotSupportedException: ConfigureServices returning an System.IServiceProvider isn't supported.
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at QAService.API.Program.Main(String[] args) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\Program.cs:line 34
2020-05-20 20:34:42.605 -05:00 [INF] Starting web host (QAService.API)...
2020-05-20 20:34:57.294 -05:00 [WRN] The messaging entity $Default Could not be found.
2020-05-20 20:34:57.601 -05:00 [WRN] The messaging entity RegistrationReceived already exists.
2020-05-20 20:34:57.629 -05:00 [INF] Subscribing to event RegistrationReceived with RegistrationReceivedIntegrationEventHandler
2020-05-20 20:34:57.666 -05:00 [WRN] Overriding address(es) 'http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.
2020-05-20 20:34:58.008 -05:00 [INF] ----- Handling integration event: "31cb42e1-74f3-4a6d-86d7-d1fc44caad5c" at QAService.API - ({"ClientId":1,"FacilityId":1,"PatientId":9,"PatientVisitId":12,"DocumentId":"b4916097-b872-4d6a-84e1-3b3805c0cc12","ClientName":"Texas Baptist","Id":"31cb42e1-74f3-4a6d-86d7-d1fc44caad5c","CreationDate":"2020-05-19T20:30:25.9266739Z","$type":"RegistrationReceivedIntegrationEvent"})
2020-05-20 20:35:00.560 -05:00 [ERR] ERROR handling message: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.") - Context: {"Action":"UserCallback","Endpoint":"ipasservicebus.servicebus.windows.net","EntityPath":"registration/Subscriptions/QATempService","ClientId":"MessageReceiver3registration/Subscriptions/QATempService","$type":"ExceptionReceivedContext"}
Grpc.Core.RpcException: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.")
   at Grpc.Net.Client.Internal.HttpClientCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.<BlockingUnaryCall>b__3_0[TRequest,TResponse](TRequest req, ClientInterceptorContext`2 ctx)
   at Grpc.Core.ClientBase.ClientBaseConfiguration.ClientBaseConfigurationInterceptor.BlockingUnaryCall[TRequest,TResponse](TRequest request, ClientInterceptorContext`2 context, BlockingUnaryCallContinuation`2 continuation)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, CallOptions options) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 84
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, Metadata headers, Nullable`1 deadline, CancellationToken cancellationToken) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 80
   at QAService.Grpc.ClientGRPCClientService.ClientFacilitySubscribesToModuleByFacilityId(Int64 clientId, Int64 facilityId) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\Grpc\ClientGRPCClientService.cs:line 41
   at QAService.IntegrationEvents.EventHandling.RegistrationReceivedIntegrationEventHandler.Handle(RegistrationReceivedIntegrationEvent event) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\IntegrationEvents\EventHandling\RegistrationReceivedIntegrationEventHandler.cs:line 44
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.ProcessEvent(String eventName, String message) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 186
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.<RegisterSubscriptionClientMessageHandler>b__14_0(Message message, CancellationToken token) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 143
   at Microsoft.Azure.ServiceBus.MessageReceivePump.MessageDispatchTask(Message message)
2020-05-20 20:35:00.853 -05:00 [INF] ----- Handling integration event: "31cb42e1-74f3-4a6d-86d7-d1fc44caad5c" at QAService.API - ({"ClientId":1,"FacilityId":1,"PatientId":9,"PatientVisitId":12,"DocumentId":"b4916097-b872-4d6a-84e1-3b3805c0cc12","ClientName":"Texas Baptist","Id":"31cb42e1-74f3-4a6d-86d7-d1fc44caad5c","CreationDate":"2020-05-19T20:30:25.9266739Z","$type":"RegistrationReceivedIntegrationEvent"})
2020-05-20 20:35:03.243 -05:00 [ERR] ERROR handling message: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.") - Context: {"Action":"UserCallback","Endpoint":"ipasservicebus.servicebus.windows.net","EntityPath":"registration/Subscriptions/QATempService","ClientId":"MessageReceiver3registration/Subscriptions/QATempService","$type":"ExceptionReceivedContext"}
Grpc.Core.RpcException: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.")
   at Grpc.Net.Client.Internal.HttpClientCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.<BlockingUnaryCall>b__3_0[TRequest,TResponse](TRequest req, ClientInterceptorContext`2 ctx)
   at Grpc.Core.ClientBase.ClientBaseConfiguration.ClientBaseConfigurationInterceptor.BlockingUnaryCall[TRequest,TResponse](TRequest request, ClientInterceptorContext`2 context, BlockingUnaryCallContinuation`2 continuation)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, CallOptions options) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 84
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, Metadata headers, Nullable`1 deadline, CancellationToken cancellationToken) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 80
   at QAService.Grpc.ClientGRPCClientService.ClientFacilitySubscribesToModuleByFacilityId(Int64 clientId, Int64 facilityId) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\Grpc\ClientGRPCClientService.cs:line 41
   at QAService.IntegrationEvents.EventHandling.RegistrationReceivedIntegrationEventHandler.Handle(RegistrationReceivedIntegrationEvent event) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\IntegrationEvents\EventHandling\RegistrationReceivedIntegrationEventHandler.cs:line 44
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.ProcessEvent(String eventName, String message) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 186
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.<RegisterSubscriptionClientMessageHandler>b__14_0(Message message, CancellationToken token) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 143
   at Microsoft.Azure.ServiceBus.MessageReceivePump.MessageDispatchTask(Message message)
2020-05-20 20:35:03.436 -05:00 [INF] ----- Handling integration event: "31cb42e1-74f3-4a6d-86d7-d1fc44caad5c" at QAService.API - ({"ClientId":1,"FacilityId":1,"PatientId":9,"PatientVisitId":12,"DocumentId":"b4916097-b872-4d6a-84e1-3b3805c0cc12","ClientName":"Texas Baptist","Id":"31cb42e1-74f3-4a6d-86d7-d1fc44caad5c","CreationDate":"2020-05-19T20:30:25.9266739Z","$type":"RegistrationReceivedIntegrationEvent"})
2020-05-20 20:35:05.805 -05:00 [ERR] ERROR handling message: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.") - Context: {"Action":"UserCallback","Endpoint":"ipasservicebus.servicebus.windows.net","EntityPath":"registration/Subscriptions/QATempService","ClientId":"MessageReceiver3registration/Subscriptions/QATempService","$type":"ExceptionReceivedContext"}
Grpc.Core.RpcException: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.")
   at Grpc.Net.Client.Internal.HttpClientCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.<BlockingUnaryCall>b__3_0[TRequest,TResponse](TRequest req, ClientInterceptorContext`2 ctx)
   at Grpc.Core.ClientBase.ClientBaseConfiguration.ClientBaseConfigurationInterceptor.BlockingUnaryCall[TRequest,TResponse](TRequest request, ClientInterceptorContext`2 context, BlockingUnaryCallContinuation`2 continuation)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, CallOptions options) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 84
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, Metadata headers, Nullable`1 deadline, CancellationToken cancellationToken) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 80
   at QAService.Grpc.ClientGRPCClientService.ClientFacilitySubscribesToModuleByFacilityId(Int64 clientId, Int64 facilityId) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\Grpc\ClientGRPCClientService.cs:line 41
   at QAService.IntegrationEvents.EventHandling.RegistrationReceivedIntegrationEventHandler.Handle(RegistrationReceivedIntegrationEvent event) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\IntegrationEvents\EventHandling\RegistrationReceivedIntegrationEventHandler.cs:line 44
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.ProcessEvent(String eventName, String message) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 186
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.<RegisterSubscriptionClientMessageHandler>b__14_0(Message message, CancellationToken token) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 143
   at Microsoft.Azure.ServiceBus.MessageReceivePump.MessageDispatchTask(Message message)
2020-05-20 20:35:06.314 -05:00 [INF] ----- Handling integration event: "31cb42e1-74f3-4a6d-86d7-d1fc44caad5c" at QAService.API - ({"ClientId":1,"FacilityId":1,"PatientId":9,"PatientVisitId":12,"DocumentId":"b4916097-b872-4d6a-84e1-3b3805c0cc12","ClientName":"Texas Baptist","Id":"31cb42e1-74f3-4a6d-86d7-d1fc44caad5c","CreationDate":"2020-05-19T20:30:25.9266739Z","$type":"RegistrationReceivedIntegrationEvent"})
2020-05-20 20:35:08.678 -05:00 [ERR] ERROR handling message: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.") - Context: {"Action":"UserCallback","Endpoint":"ipasservicebus.servicebus.windows.net","EntityPath":"registration/Subscriptions/QATempService","ClientId":"MessageReceiver3registration/Subscriptions/QATempService","$type":"ExceptionReceivedContext"}
Grpc.Core.RpcException: Status(StatusCode=Internal, Detail="Error starting gRPC call: No connection could be made because the target machine actively refused it.")
   at Grpc.Net.Client.Internal.HttpClientCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.<BlockingUnaryCall>b__3_0[TRequest,TResponse](TRequest req, ClientInterceptorContext`2 ctx)
   at Grpc.Core.ClientBase.ClientBaseConfiguration.ClientBaseConfigurationInterceptor.BlockingUnaryCall[TRequest,TResponse](TRequest request, ClientInterceptorContext`2 context, BlockingUnaryCallContinuation`2 continuation)
   at Grpc.Core.Interceptors.InterceptingCallInvoker.BlockingUnaryCall[TRequest,TResponse](Method`2 method, String host, CallOptions options, TRequest request)
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, CallOptions options) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 84
   at ClientService.API.Grpc.ClientApiRetrieval.ClientApiRetrievalClient.FindModulesByClientIdAndFacilityId(ModuleFacilityIdRequest request, Metadata headers, Nullable`1 deadline, CancellationToken cancellationToken) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\obj\Debug\netcoreapp3.1\ClientServiceGrpc.cs:line 80
   at QAService.Grpc.ClientGRPCClientService.ClientFacilitySubscribesToModuleByFacilityId(Int64 clientId, Int64 facilityId) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\Grpc\ClientGRPCClientService.cs:line 41
   at QAService.IntegrationEvents.EventHandling.RegistrationReceivedIntegrationEventHandler.Handle(RegistrationReceivedIntegrationEvent event) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\QAService.API\IntegrationEvents\EventHandling\RegistrationReceivedIntegrationEventHandler.cs:line 44
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.ProcessEvent(String eventName, String message) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 186
   at iPas.Infrastructure.EventBusServiceBus.EventBusServiceBus.<RegisterSubscriptionClientMessageHandler>b__14_0(Message message, CancellationToken token) in C:\Users\dreck\source\repos\SimpleQAService\SimpleQAService\iPas.Infrastructure.EventBusServiceBus\EventBusServiceBus.cs:line 143
   at Microsoft.Azure.ServiceBus.MessageReceivePump.MessageDispatchTask(Message message)
2020-05-20 20:35:08.880 -05:00 [INF] ----- Handling integration event: "31cb42e1-74f3-4a6d-86d7-d1fc44caad5c" at QAService.API - ({"ClientId":1,"FacilityId":1,"PatientId":9,"PatientVisitId":12,"DocumentId":"b4916097-b872-4d6a-84e1-3b3805c0cc12","ClientName":"Texas Baptist","Id":"31cb42e1-74f3-4a6d-86d7-d1fc44caad5c","CreationDate":"2020-05-19T20:30:25.9266739Z","$type":"RegistrationReceivedIntegrationEvent"})
2020-05-20 20:36:03.444 -05:00 [INF] Starting web host (QAService.API)...
2020-05-20 20:36:06.617 -05:00 [WRN] The messaging entity $Default Could not be found.
2020-05-20 20:36:06.973 -05:00 [WRN] The messaging entity RegistrationReceived already exists.
2020-05-20 20:36:06.975 -05:00 [INF] Subscribing to event RegistrationReceived with RegistrationReceivedIntegrationEventHandler
2020-05-20 20:36:07.003 -05:00 [WRN] Overriding address(es) 'http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.
2020-05-20 20:39:51.598 -05:00 [INF] Starting web host (QAService.API)...
2020-05-20 20:39:55.710 -05:00 [WRN] The messaging entity $Default Could not be found.
2020-05-20 20:39:56.171 -05:00 [WRN] The messaging entity RegistrationReceived already exists.
2020-05-20 20:39:56.173 -05:00 [INF] Subscribing to event RegistrationReceived with RegistrationReceivedIntegrationEventHandler
2020-05-20 20:39:56.201 -05:00 [WRN] Overriding address(es) 'http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.
